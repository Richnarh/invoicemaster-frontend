"use strict";(self.webpackChunkinvoicemaster=self.webpackChunkinvoicemaster||[]).push([[788],{7532:(Gt,N,m)=>{m.r(N),m.d(N,{AdminModule:()=>Bt});var u=m(6814),U=m(7210),t=m(4946);let S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-administration"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"administration works!"),t.qZA())}}),n})();var J=m(8479),P=m(9140),I=m(2189),V=m(4073);let O=(()=>{class n{constructor(e){this.storage=e;const o=this.storage.getLocalObject(J.k.CurrenUser);this.user=JSON.parse(o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin-layout"]],decls:5,vars:1,consts:[[3,"user"],["id","main",1,"main"],[1,"section","dashboard"]],template:function(e,o){1&e&&(t._UZ(0,"app-header",0)(1,"app-sidebar"),t.TgZ(2,"main",1)(3,"section",2),t._UZ(4,"router-outlet"),t.qZA()()),2&e&&t.Q6J("user",o.user)},dependencies:[U.lC,I.k,V.G],styles:["*[_ngcontent-%COMP%]{font-size:14px!important}"]}),n})();var d=m(5861),x=m(7582),c=m(4036),Y=m(6593);let M=(()=>{class n{constructor(e){this.sanitizer=e}transform(e,o){switch(o){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Invalid safe type specified: ${o}`)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y.H7,16))},n.\u0275pipe=t.Yjl({name:"safe",type:n,pure:!0}),n})(),F=(()=>{class n{waybillPdf(e,o){this.pdfTitle=o.clientName+"-"+o.proformaInvoice+" (Waybill Report)",this.pdf="data:application/pdf;base64,"+e}invoicePdf(e){this.pdfTitle="Report",this.pdf="data:application/pdf;base64,"+e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pdf-viewer"]],inputs:{pdfTitle:"pdfTitle"},decls:10,vars:5,consts:[["id","report","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","text/pdf","width","1100","height","560",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"iframe",7),t.ALo(9,"safe"),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(o.pdfTitle),t.xp6(3),t.Q6J("src",t.xi3(9,2,o.pdf,"resourceUrl"),t.uOi))},dependencies:[M]}),n})();var y=m(8879),h=m(5078),f=m(8941),p=m(553),q=m(9862);let v=(()=>{class n{constructor(e){this.http=e}companyProfile(){return this.http.get(`${p.N.lookupEndpoint}/company-profile`)}companyBranch(){return this.http.get(`${p.N.lookupEndpoint}/company-company`)}inventory(){return this.http.get(`${p.N.lookupEndpoint}/inventory`)}products(){return this.http.get(`${p.N.lookupEndpoint}/products`)}productTypes(){return this.http.get(`${p.N.lookupEndpoint}/product-type`)}employees(){return this.http.get(`${p.N.lookupEndpoint}/employees`)}paymentStatus(){return this.http.get(`${p.N.lookupEndpoint}/payment-status`)}deliveryStatus(){return this.http.get(`${p.N.lookupEndpoint}/delivery-status`)}units(){return this.http.get(`${p.N.lookupEndpoint}/units`)}currency(){return this.http.get(`${p.N.lookupEndpoint}/currency`)}status(){return this.http.get(`${p.N.lookupEndpoint}/status`)}accessLevel(){return this.http.get(`${p.N.lookupEndpoint}/access-level`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L=(()=>{class n{constructor(e){this.http=e}fetchTransaction(e,o,r){return this.http.get(`${p.N.endpoint}/payment?paymentStatus=${e}&fromDate=${o}&toDate=${r}`)}fetchByDeliveryStatus(e){return this.http.get(`${p.N.endpoint}/payment/delivery/${e}`)}findById(e){return this.http.get(`${p.N.endpoint}/payment/${e}`)}report(e){return this.http.get(`${p.N.endpoint}/payment/${e}/report`)}updateDeliveryStatus(e){return this.http.put(`${p.N.endpoint}/payment/${e}`,{})}updatePaymentStatus(e,o){return this.http.put(`${p.N.endpoint}/payment/${e}/${o}`,{})}deletePaymentData(e){return this.http.delete(`${p.N.endpoint}/payment/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=m(95);let g=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-title"]],inputs:{pageTitle:"pageTitle"},decls:3,vars:1,consts:[[1,"pagetitle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(o.pageTitle))}}),n})();function $(n,i){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}let E=(()=>{class n{constructor(e,o){this.transactionService=e,this.toast=o}ngOnInit(){}updateStatus(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.transactionService.updatePaymentStatus(e.paymentStatus,e.paymentDataId));200==o.statusCode&&e.toast.success(o.data)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L),t.Y36(f.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-payment-status"]],inputs:{paymentStatusList:"paymentStatusList",paymentDataId:"paymentDataId",paymentStatus:"paymentStatus"},decls:21,vars:3,consts:[["id","paymentModal","tabindex","-1","data-bs-backdrop","false",1,"modal","fade",2,"background","#6677"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"faded-shade","col-3"],[1,"control-field","mx-1",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-check-circle"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),t._uU(5,"Update Status"),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6)(8,"p"),t._uU(9,"Active Status: "),t.TgZ(10,"span",7)(11,"b"),t._uU(12),t.qZA()()(),t.TgZ(13,"span"),t._uU(14,"Payment Status"),t.qZA(),t.TgZ(15,"select",8),t.NdJ("ngModelChange",function(a){return o.paymentStatus=a}),t.YNc(16,$,2,2,"option",9),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){return o.updateStatus()}),t._UZ(19,"i",12),t._uU(20," Save changes"),t.qZA()()()()()),2&e&&(t.xp6(12),t.Oqu(o.paymentStatus),t.xp6(3),t.Q6J("ngModel",o.paymentStatus),t.xp6(1),t.Q6J("ngForOf",o.paymentStatusList))},dependencies:[u.sg,s.YN,s.Kr,s.EJ,s.JJ,s.On],styles:["select[_ngcontent-%COMP%]{width:100%}"]}),n})();function D(n,i){if(1&n&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function Q(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",32),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",32),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"td",32),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td")(15,"div",33)(16,"button",34),t._uU(17," Choose... "),t.qZA(),t.TgZ(18,"ul",35)(19,"li")(20,"a",36),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.generateWaybill(a))}),t._UZ(21,"i",37),t._uU(22," Waybill"),t.qZA()(),t.TgZ(23,"li")(24,"a",38),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.editPaymentStatus(a.id))}),t._UZ(25,"i",39),t._uU(26,"Edit"),t.qZA()(),t.TgZ(27,"li")(28,"a",40),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deletePaymentData(a.id))}),t._UZ(29,"i",23),t._uU(30,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.valueDate),t.xp6(2),t.Oqu(e.clientName+"-"+e.proformaInvoice),t.xp6(2),t.Oqu(t.lcZ(7,5,e.totalAmount)),t.xp6(3),t.Oqu(t.lcZ(10,7,e.partialAmountPaid)),t.xp6(3),t.Oqu(t.lcZ(13,9,e.totalAmount-e.partialAmountPaid))}}function B(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"form",12),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchPayment())}),t.TgZ(2,"div",13)(3,"div")(4,"span"),t._uU(5,"Status"),t.qZA(),t.TgZ(6,"select",14),t._UZ(7,"option",15),t.YNc(8,D,2,2,"option",16),t.qZA()(),t.TgZ(9,"div",17)(10,"span"),t._uU(11,"From: "),t.qZA(),t._UZ(12,"input",18),t.qZA(),t.TgZ(13,"div")(14,"span"),t._uU(15,"To: "),t.qZA(),t._UZ(16,"input",19),t.qZA(),t.TgZ(17,"div",17)(18,"button",20),t._UZ(19,"i",21),t._uU(20,"\xa0Search"),t.qZA(),t.TgZ(21,"button",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clear())}),t._UZ(22,"i",23),t._uU(23,"\xa0Clear"),t.qZA()(),t.TgZ(24,"div",24)(25,"label",25),t._uU(26),t.qZA()(),t.TgZ(27,"div",24)(28,"label",25),t._uU(29),t.ALo(30,"number"),t.qZA()()()(),t.TgZ(31,"div")(32,"table",26)(33,"thead",27)(34,"tr")(35,"th",28),t._uU(36,"Date"),t.qZA(),t.TgZ(37,"th",28),t._uU(38,"Client/Invoice No."),t.qZA(),t.TgZ(39,"th",29),t._uU(40,"Total Amount"),t.qZA(),t.TgZ(41,"th",29),t._uU(42,"Partial Amount"),t.qZA(),t.TgZ(43,"th",29),t._uU(44,"Amount Left"),t.qZA(),t.TgZ(45,"th",29),t._uU(46,"Action"),t.qZA()()(),t.TgZ(47,"tbody"),t.YNc(48,Q,31,11,"tr",30),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.searchForm),t.xp6(6),t.Q6J("ngValue","---"),t.xp6(1),t.Q6J("ngForOf",e.paymentStatusList),t.xp6(18),t.hij("Count: ",e.paymentDataList?e.paymentDataList.length:0,""),t.xp6(3),t.hij("Total Amt: ",e.sumTotalAmount?t.lcZ(30,6,e.sumTotalAmount):0,""),t.xp6(19),t.Q6J("ngForOf",e.paymentDataList)}}function G(n,i){if(1&n&&(t.TgZ(0,"option",31),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.hij("",null==e?null:e.itemName," ")}}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"button",48),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.updateDeliveryStatus(r.id))}),t._UZ(2,"i",21),t._uU(3,"\xa0Update to delivered"),t.qZA()()}}function H(n,i){1&n&&(t.TgZ(0,"td",32)(1,"span",49),t._uU(2,"FULLY_DELIVERED"),t.qZA()())}function K(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.YNc(7,z,4,0,"td",46),t.YNc(8,H,3,0,"td",47),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.valueDate),t.xp6(2),t.Oqu(e.clientName),t.xp6(2),t.Oqu(e.deliveryAdress),t.xp6(1),t.Q6J("ngIf","Pending delivery"===e.deliveryStatus),t.xp6(1),t.Q6J("ngIf","Fully delivered"===e.deliveryStatus)}}function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"div",13)(2,"div")(3,"span"),t._uU(4,"Status"),t.qZA(),t.TgZ(5,"select",42),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.deliveryStatus=r)}),t.YNc(6,G,2,2,"option",16),t.qZA()(),t.TgZ(7,"div",17)(8,"button",43),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.fetchByDeliveryStatus())}),t._UZ(9,"i",21),t._uU(10,"\xa0Search"),t.qZA(),t.TgZ(11,"button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearDelivery())}),t._UZ(12,"i",23),t._uU(13,"\xa0Clear"),t.qZA()(),t.TgZ(14,"div",24)(15,"label",45),t._uU(16),t.qZA()()(),t.TgZ(17,"div")(18,"table",26)(19,"thead",27)(20,"tr")(21,"th",28),t._uU(22,"Date"),t.qZA(),t.TgZ(23,"th",28),t._uU(24,"Client"),t.qZA(),t.TgZ(25,"th",28),t._uU(26,"Delivery Address"),t.qZA(),t.TgZ(27,"th",29),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,K,9,5,"tr",30),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.deliveryStatus),t.xp6(1),t.Q6J("ngForOf",e.deliveryStatusList),t.xp6(10),t.hij("Count: ",e.paymentDataDeliveryList?e.paymentDataDeliveryList.length:0,""),t.xp6(14),t.Q6J("ngForOf",e.paymentDataDeliveryList)}}class T{constructor(i,e,o,r){this.toast=i,this.lookup=e,this.transactionService=o,this.fb=r,this.pageTitle="Transactions",this.transactionList=[],this.paymentDataDeliveryList=[]}ngOnInit(){this.initSearchForm(),this.initLookups()}initLookups(){var i=this;return(0,d.Z)(function*(){const e=yield(0,c.z)(i.lookup.paymentStatus());i.paymentStatusList=e.data;const o=yield(0,c.z)(i.lookup.deliveryStatus());i.deliveryStatusList=o.data})()}editPaymentStatus(i){var e=this;return(0,d.Z)(function*(){e.paymentStatus="",e.paymentDataId=i;const o=yield(0,c.z)(e.transactionService.findById(i));e.paymentStatus=o.data.paymentStatus?o.data.paymentStatus:"N/A"})()}searchPayment(){var i=this;return(0,d.Z)(function*(){i.loading.start("Loading...");let e=i.searchForm.value;const o=yield(0,c.z)(i.transactionService.fetchTransaction(e.paymentStatus,e.fromDate,e.toDate));i.paymentDataList=o.data,i.sumTotalAmount=0,i.paymentDataList.filter(r=>i.sumTotalAmount+=r.totalAmount),i.loading.stop()})()}fetchByDeliveryStatus(){var i=this;return(0,d.Z)(function*(){i.loading.start("Loading...");const e=yield(0,c.z)(i.transactionService.fetchByDeliveryStatus(i.deliveryStatus));i.paymentDataDeliveryList=e.data,i.loading.stop()})()}updateDeliveryStatus(i){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.transactionService.updateDeliveryStatus(i));if(o.data){e.toast.success(o.message);const r=e.paymentDataDeliveryList.findIndex(a=>a.id===o.data.id);r>-1&&e.paymentDataDeliveryList.splice(r,1)}})()}deletePaymentData(i){var e=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const r=yield(0,c.z)(e.transactionService.deletePaymentData(i));if(r.data){e.toast.success(r.message);const a=e.paymentDataList.findIndex(l=>l.id===i);a>-1&&e.paymentDataList.splice(a,1)}})()}generateWaybill(i){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.transactionService.report(i.id));e.pdfViewer.waybillPdf(o.data,i)})()}initSearchForm(){this.searchForm=this.fb.group({paymentStatus:null,fromDate:null,toDate:null})}clear(){this.searchForm.reset(),this.paymentDataList=[],this.searchForm.patchValue({})}clearDelivery(){this.deliveryStatus="",this.paymentDataDeliveryList=[]}}T.\u0275fac=function(i){return new(i||T)(t.Y36(f.k),t.Y36(v),t.Y36(L),t.Y36(s.qu))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-transaction"]],viewQuery:function(i,e){if(1&i&&t.Gf(F,5),2&i){let o;t.iGM(o=t.CRH())&&(e.pdfViewer=o.first)}},decls:15,vars:6,consts:[[3,"pageTitle"],[1,"card"],[1,"card-body"],["id","borderedTab","role","tablist",1,"nav","nav-tabs","nav-tabs-bordered"],["role","presentation",1,"nav-item"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#bordered-home","type","button","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active"],["id","profile-tab","data-bs-toggle","tab","data-bs-target","#bordered-profile","type","button","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link"],["id","borderedTabContent",1,"tab-content","pt-2"],["class","tab-pane fade show active","id","bordered-home","role","tabpanel","aria-labelledby","home-tab",4,"blockUI"],["class","tab-pane fade","id","bordered-profile","role","tabpanel","aria-labelledby","profile-tab",4,"blockUI"],[3,"paymentStatusList","paymentDataId","paymentStatus"],["id","bordered-home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[3,"formGroup","ngSubmit"],[1,"row-field","mb-3"],["formControlName","paymentStatus",1,"form-control","mx-1",2,"display","inline","width","auto"],["selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"mx-2"],["type","date","formControlName","fromDate",1,"mx-1","form-control",2,"display","inline","width","auto"],["type","date","formControlName","toDate",1,"mx-1","form-control",2,"display","inline","width","auto"],["type","submit",1,"btn","btn-light","btn-border","mx-2"],[1,"fa","fa-check-circle"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-remove"],[1,"pt-0"],[1,"faded-shade","pb-3"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[3,"value"],[1,"text-end"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button","data-bs-toggle","modal","data-bs-target","#report",1,"dropdown-item",3,"click"],[1,"fa","fa-print"],["href","javascript:void(0)","type","button","data-bs-toggle","modal","data-bs-target","#paymentModal",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],["id","bordered-profile","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],[1,"control-field","mx-1",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light","btn-sm","btn-border","mx-2",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"faded-shade","pb-2"],[4,"ngIf"],["class","text-end ",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm","float-end",3,"click"],[1,"text-success","fw-bold"]],template:function(i,e){1&i&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"button",5),t._uU(6,"Payment Info"),t.qZA()(),t.TgZ(7,"li",4)(8,"button",6),t._uU(9,"Delivery Info"),t.qZA()()(),t.TgZ(10,"div",7),t.YNc(11,B,49,8,"div",8),t.YNc(12,j,31,4,"div",9),t.qZA()(),t._UZ(13,"app-pdf-viewer")(14,"app-payment-status",10),t.qZA()),2&i&&(t.Q6J("pageTitle",e.pageTitle),t.xp6(11),t.Q6J("blockUI","loading"),t.xp6(1),t.Q6J("blockUI","loading"),t.xp6(2),t.Q6J("paymentStatusList",e.paymentStatusList)("paymentDataId",e.paymentDataId)("paymentStatus",e.paymentStatus))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,y.PC,s.sg,s.u,g,F,E,u.JJ]}),(0,x.gn)([(0,y.bH)("loading")],T.prototype,"loading",void 0);class Z{constructor(){this.listView=!1,this.createView=!1,this.detailView=!1}static listView(){let i=new Z;return i.listView=!0,i}close(){this.listView=!1,this.createView=!1,this.detailView=!1}resetToListView(){this.close(),this.listView=!0}resetToCreateView(){this.close(),this.createView=!0}resetToDetailView(){this.close(),this.detailView=!0}}var b=m(9949);function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",14)(13,"button",15),t._uU(14," Choose... "),t.qZA(),t.TgZ(15,"ul",16)(16,"li")(17,"a",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.editBranch(a))}),t._UZ(18,"i",18),t._uU(19,"Edit"),t.qZA()(),t.TgZ(20,"li")(21,"a",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteBranch(a.id))}),t._UZ(22,"i",20),t._uU(23,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.branchCode),t.xp6(2),t.Oqu(e.branchName),t.xp6(2),t.Oqu(e.gpsAddress),t.xp6(2),t.Oqu(e.companyProfile),t.xp6(2),t.Oqu(e.telephoneNo)}}function X(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initBranch())}),t._UZ(4,"i",7),t.qZA()()(),t.TgZ(5,"div",8)(6,"table",9)(7,"thead",10)(8,"tr")(9,"th",11),t._uU(10,"Code"),t.qZA(),t.TgZ(11,"th",11),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",11),t._uU(14,"Address"),t.qZA(),t.TgZ(15,"th",11),t._uU(16,"Profile"),t.qZA(),t.TgZ(17,"th",11),t._uU(18,"Tel. No."),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Action"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,R,24,5,"tr",13),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.branchList)}}function W(n,i){if(1&n&&(t.TgZ(0,"option",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",21)(2,"form",22),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t.TgZ(3,"div",23)(4,"label",24),t._uU(5,"Branch Code"),t.qZA(),t.TgZ(6,"div",25),t._UZ(7,"input",26),t.qZA()(),t.TgZ(8,"div",23)(9,"label",24),t._uU(10,"Branch Name "),t.TgZ(11,"span",27),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"div",25),t._UZ(14,"input",28),t.qZA()(),t.TgZ(15,"div",23)(16,"label",24),t._uU(17,"Telephone No."),t.qZA(),t.TgZ(18,"div",25),t._UZ(19,"input",29),t.qZA()(),t.TgZ(20,"div",23)(21,"label",24),t._uU(22,"Profile"),t.qZA(),t.TgZ(23,"div",25)(24,"select",30)(25,"option",31),t._uU(26,"Choose..."),t.qZA(),t.YNc(27,W,2,2,"option",32),t.qZA()()(),t.TgZ(28,"div",23)(29,"label",24),t._uU(30,"GPS Address"),t.qZA(),t.TgZ(31,"div",25),t._UZ(32,"input",33),t.qZA()(),t.TgZ(33,"div",34)(34,"button",35),t._UZ(35,"i",36),t._uU(36," Save Changes"),t.qZA(),t.TgZ(37,"button",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePage())}),t._UZ(38,"i",38),t._uU(39," Close Page"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.companyBranchForm),t.xp6(25),t.Q6J("ngForOf",e.companyProfileList)}}let et=(()=>{class n{constructor(e,o,r,a){this.fb=e,this.toast=o,this.companyService=r,this.lookup=a,this.pageTitle="Company Branch",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.initLookups(),this.fetchBranches()}initBranch(){this.companyBranchForm.reset(),this.companyBranchForm.patchValue({}),this.pageView.resetToCreateView()}fetchBranches(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.companyService.branchList());e.branchList=o.data})()}save(){var e=this;return(0,d.Z)(function*(){if(e.companyBranchForm.invalid)return void e.toast.error("Branch name is requied");let o=e.companyBranchForm.value;const r=yield(0,c.z)(e.companyService.save(o));if(r.success){if(r.data.id===o.id){const a=e.branchList.findIndex(l=>l.id===r.data.id);a>-1&&e.branchList.splice(a,1)}e.branchList.push(r.data),e.toast.success(r.message),e.pageView.resetToListView()}else e.toast.error(r.message)})()}initLookups(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.lookup.companyProfile());e.companyProfileList=o.data})()}editBranch(e){this.companyBranchForm.patchValue({}),this.companyBranchForm.controls.companyProfileId.setValue(e.companyProfileId),this.companyBranchForm.patchValue(e),this.pageView.resetToCreateView()}deleteBranch(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.companyService.deleteBranch(e));if(a.data){o.toast.success(a.message);const l=o.branchList.findIndex(_=>_.id===e);l>-1&&o.branchList.splice(l,1)}})()}closePage(){this.companyBranchForm.reset(),this.companyBranchForm.patchValue({}),this.pageView.resetToListView()}setupForm(){this.companyBranchForm=this.fb.group({id:[null],branchCode:[null],branchName:[null,s.kI.required],gpsAddress:[null],telephoneNo:[null],companyProfileId:[null]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.k),t.Y36(b.J),t.Y36(v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-company-branch"]],decls:6,vars:4,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[4,"ngIf"],[1,"clearfix"],[1,"float-end"],["href","javascript:void(0)","title","New Branch",1,"mx-3",3,"click"],[1,"fa","fa-plus-circle","fa-3x"],[1,"p-2"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button","data-bs-toggle","modal",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-remove"],[1,"card-body"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","formControlName","branchCode",1,"form-control"],[1,"text-danger"],["type","text","formControlName","branchName",1,"form-control"],["type","tel","formControlName","telephoneNo",1,"form-control"],["formControlName","companyProfileId",1,"form-control"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","gpsAddress",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-danger","btn-sm","float-end",3,"click"],[1,"fa","fa-times"],["selected","",3,"value"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,X,23,1,"div",3),t.YNc(5,tt,40,2,"div",3),t.qZA()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("",o.pageTitle," Setup"),t.xp6(1),t.Q6J("ngIf",o.pageView.listView),t.xp6(1),t.Q6J("ngIf",o.pageView.createView))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,g]}),n})();function ot(n,i){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"div",26)(11,"button",27),t._uU(12," Choose... "),t.qZA(),t.TgZ(13,"ul",28)(14,"li")(15,"a",29),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editProfile(a))}),t._UZ(16,"i",30),t._uU(17,"Edit"),t.qZA()(),t.TgZ(18,"li")(19,"a",31),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteProfile(a.id))}),t._UZ(20,"i",19),t._uU(21,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.currency),t.xp6(2),t.Oqu(e.website),t.xp6(2),t.Oqu(e.companyEmail),t.xp6(2),t.Oqu(e.tinNo)}}let it=(()=>{class n{constructor(e,o,r,a){this.lookup=e,this.fb=o,this.toast=r,this.companyService=a,this.pageTitle="Company Profile",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.initLookups(),this.fetchProfiles()}initLookups(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.lookup.currency());e.currencyList=o.data})()}fetchProfiles(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.companyService.profileList());e.profileList=o.data})()}save(){var e=this;return(0,d.Z)(function*(){if(e.profileForm.invalid)return void e.toast.error("Please fill out required");let o=e.profileForm.value;const r=yield(0,c.z)(e.companyService.saveProfile(o));if(r.success){if(r.data.id===o.id){const a=e.profileList.findIndex(l=>l.id===r.data.id);a>-1&&e.profileList.splice(a,1)}e.profileList.push(r.data),e.toast.success(r.message),e.pageView.resetToListView()}else e.toast.error(r.message)})()}editProfile(e){this.profileForm.patchValue({}),this.profileForm.controls.currency.setValue(e.currency),this.profileForm.patchValue(e),this.pageView.resetToCreateView()}deleteProfile(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.companyService.deleteProfile(e));if(a.data){o.toast.success(a.message);const l=o.profileList.findIndex(_=>_.id===e);l>-1&&o.profileList.splice(l,1)}})()}clear(){this.profileForm.reset(),this.profileForm.patchValue({})}setupForm(){this.profileForm=this.fb.group({id:[null],currency:[null],website:[null,s.kI.required],companyEmail:[null,s.kI.required],tinNo:[null]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v),t.Y36(s.qu),t.Y36(f.k),t.Y36(b.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-company-profile"]],decls:57,vars:5,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[1,"p-3"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["formControlName","currency",1,"form-control"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],[1,"text-danger","fw-bold"],["type","text","formControlName","website",1,"form-control"],["type","tel","formControlName","companyEmail",1,"form-control"],["type","text","formControlName","tinNo",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm","mx-2"],[1,"fa","fa-check-circle"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-remove"],[1,"table","table-bordered"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],["selected","",3,"value"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"form",4),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(6,"div",5)(7,"label",6),t._uU(8,"Currency"),t.qZA(),t.TgZ(9,"div",7)(10,"select",8)(11,"option",9),t._uU(12,"Choose..."),t.qZA(),t.YNc(13,ot,2,2,"option",10),t.qZA()()(),t.TgZ(14,"div",5)(15,"label",6),t._uU(16,"Website "),t.TgZ(17,"span",11),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"div",7),t._UZ(20,"input",12),t.qZA()(),t.TgZ(21,"div",5)(22,"label",6),t._uU(23,"Email Address "),t.TgZ(24,"span",11),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"div",7),t._UZ(27,"input",13),t.qZA()(),t.TgZ(28,"div",5)(29,"label",6),t._uU(30,"TIN No."),t.qZA(),t.TgZ(31,"div",7),t._UZ(32,"input",14),t.qZA()(),t.TgZ(33,"div",15)(34,"button",16),t._UZ(35,"i",17),t._uU(36," Save Changes"),t.qZA(),t.TgZ(37,"button",18),t.NdJ("click",function(){return o.clear()}),t._UZ(38,"i",19),t._uU(39,"\xa0Clear"),t.qZA()()(),t._UZ(40,"hr"),t.TgZ(41,"div",3)(42,"table",20)(43,"thead",21)(44,"tr")(45,"th",22),t._uU(46,"Currency"),t.qZA(),t.TgZ(47,"th",22),t._uU(48,"Website"),t.qZA(),t.TgZ(49,"th",22),t._uU(50,"Email Address"),t.qZA(),t.TgZ(51,"th",22),t._uU(52,"TIN number"),t.qZA(),t.TgZ(53,"th",23),t._uU(54,"Action"),t.qZA()()(),t.TgZ(55,"tbody"),t.YNc(56,nt,22,4,"tr",24),t.qZA()()()()()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("",o.pageTitle," Setup"),t.xp6(2),t.Q6J("formGroup",o.profileForm),t.xp6(8),t.Q6J("ngForOf",o.currencyList),t.xp6(43),t.Q6J("ngForOf",o.profileList))},dependencies:[u.sg,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,g]}),n})(),rt=(()=>{class n{constructor(e,o){this.companyService=e,this.toast=o}save(){var e=this;return(0,d.Z)(function*(){if(void 0===e.userId)return void e.toast.error("Please select user");if(void 0===e.password)return void e.toast.error("Password is required");const o=yield(0,c.z)(e.companyService.updatePassword(e.userId,e.password));o.success&&e.toast.success(o.message)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.J),t.Y36(f.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-change-password"]],inputs:{fullname:"fullname",emailAddress:"emailAddress",userId:"userId"},decls:22,vars:3,consts:[["id","disablebackdrop","tabindex","-1","data-bs-backdrop","false",1,"modal","fade",2,"background","#6677"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"faded-shade","col-3"],[1,"row","mb-3"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","password","placeholder","Enter password",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-sm","btn-success",3,"click"],[1,"fa","fa-check-circle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),t._uU(5),t.qZA(),t._UZ(6,"button",5),t.qZA(),t.TgZ(7,"div",6)(8,"p"),t._uU(9,"Email Address: "),t.TgZ(10,"span",7)(11,"b"),t._uU(12),t.qZA()()(),t.TgZ(13,"div",8)(14,"label",9),t._uU(15,"Password"),t.qZA(),t.TgZ(16,"div",10)(17,"input",11),t.NdJ("ngModelChange",function(a){return o.password=a}),t.qZA()()()(),t.TgZ(18,"div",12)(19,"button",13),t.NdJ("click",function(){return o.save()}),t._UZ(20,"i",14),t._uU(21," Save Changes"),t.qZA()()()()()),2&e&&(t.xp6(5),t.hij("Set password for ",o.fullname,""),t.xp6(7),t.Oqu(o.emailAddress),t.xp6(5),t.Q6J("ngModel",o.password))},dependencies:[s.Fj,s.JJ,s.On]}),n})();function at(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",15),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"div",16)(13,"button",17),t._uU(14," Choose... "),t.qZA(),t.TgZ(15,"ul",18)(16,"li")(17,"a",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.editUser(a))}),t._UZ(18,"i",20),t._uU(19,"Edit"),t.qZA()(),t.TgZ(20,"li")(21,"a",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.updatePassword(a))}),t._UZ(22,"i",22),t._uU(23,"Update password"),t.qZA()(),t.TgZ(24,"li")(25,"a",23),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteUser(a.id))}),t._UZ(26,"i",24),t._uU(27,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(4),t.Oqu(e.fullname),t.xp6(2),t.Oqu(e.phoneNumber),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.status)}}function st(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",5)(2,"div",6)(3,"a",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initUser())}),t._UZ(4,"i",8),t.qZA()()(),t.TgZ(5,"div",9)(6,"table",10)(7,"thead",11)(8,"tr"),t._UZ(9,"th",12),t.TgZ(10,"th",12),t._uU(11,"Full Name"),t.qZA(),t.TgZ(12,"th",12),t._uU(13,"Phone Number"),t.qZA(),t.TgZ(14,"th",12),t._uU(15,"Email Address"),t.qZA(),t.TgZ(16,"th",12),t._uU(17,"Status"),t.qZA(),t.TgZ(18,"th",13),t._uU(19,"Action"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,at,28,4,"tr",14),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.employeeList)}}function lt(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function ct(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function dt(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function pt(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function ut(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function mt(n,i){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",25)(2,"form",26),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t.TgZ(3,"div",27)(4,"label",28),t._uU(5,"Branch "),t.TgZ(6,"span",29),t._uU(7,"*"),t.qZA()(),t.TgZ(8,"div",30)(9,"select",31)(10,"option",32),t._uU(11,"Choose..."),t.qZA(),t.YNc(12,lt,2,2,"option",33),t.qZA()()(),t.TgZ(13,"div",27)(14,"label",28),t._uU(15,"Full Name "),t.TgZ(16,"span",29),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"div",30),t._UZ(19,"input",34),t.qZA()(),t.TgZ(20,"div",27)(21,"label",28),t._uU(22,"Email Address "),t.TgZ(23,"span",35),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"div",30),t._UZ(26,"input",36),t.qZA()(),t.TgZ(27,"div",27)(28,"label",28),t._uU(29,"Phone No. "),t.TgZ(30,"span",35),t._uU(31,"*"),t.qZA()(),t.TgZ(32,"div",30),t._UZ(33,"input",37),t.qZA()(),t.TgZ(34,"div",27)(35,"label",28),t._uU(36,"Status"),t.qZA(),t.TgZ(37,"div",30)(38,"select",38)(39,"option",32),t._uU(40,"Choose..."),t.qZA(),t.YNc(41,ct,2,2,"option",33),t.qZA()()(),t.TgZ(42,"div",27)(43,"label",28),t._uU(44,"Access Level "),t.qZA(),t.TgZ(45,"div",30)(46,"select",39)(47,"option",32),t._uU(48,"Choose..."),t.qZA(),t.YNc(49,dt,2,2,"option",33),t.qZA()()(),t.TgZ(50,"div",27)(51,"label",28),t._uU(52,"Frame Size"),t.qZA(),t.TgZ(53,"div",30)(54,"select",40)(55,"option",32),t._uU(56,"Choose..."),t.qZA(),t.YNc(57,pt,2,2,"option",33),t.qZA()()(),t.TgZ(58,"div",27)(59,"label",28),t._uU(60,"Height"),t.qZA(),t.TgZ(61,"div",30)(62,"select",41)(63,"option",32),t._uU(64,"Choose..."),t.qZA(),t.YNc(65,ut,2,2,"option",33),t.qZA()()(),t.TgZ(66,"div",27)(67,"label",28),t._uU(68,"Height"),t.qZA(),t.TgZ(69,"div",30)(70,"select",42)(71,"option",32),t._uU(72,"Choose..."),t.qZA(),t.YNc(73,mt,2,2,"option",33),t.qZA()()(),t.TgZ(74,"div",43)(75,"button",44),t._UZ(76,"i",45),t._uU(77," Save Changes"),t.qZA(),t.TgZ(78,"button",46),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePage())}),t._UZ(79,"i",47),t._uU(80," Close Page"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.userForm),t.xp6(10),t.Q6J("ngForOf",e.branchList),t.xp6(29),t.Q6J("ngForOf",e.statusList),t.xp6(8),t.Q6J("ngForOf",e.accessLevelList),t.xp6(8),t.Q6J("ngForOf",e.frameList),t.xp6(8),t.Q6J("ngForOf",e.heightList),t.xp6(8),t.Q6J("ngForOf",e.widthList)}}let ft=(()=>{class n{constructor(e,o,r,a){this.fb=e,this.toast=o,this.companyService=r,this.lookup=a,this.pageTitle="User Accounts",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.initLookups(),this.fetchEmployees()}fetchEmployees(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.companyService.employees());console.log("employees: ",o),e.employeeList=o.data})()}initLookups(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.lookup.companyBranch()),r=yield(0,c.z)(e.lookup.accessLevel()),a=yield(0,c.z)(e.lookup.status()),l=yield(0,c.z)(e.lookup.units());e.branchList=o.data,e.statusList=a.data,e.accessLevelList=r.data,e.heightList=l.data,e.frameList=l.data,e.widthList=l.data})()}updatePassword(e){this.emailAddress=e.email,this.fullname=e.fullname,this.userId=e.id}save(){var e=this;return(0,d.Z)(function*(){if(e.userForm.invalid)return void e.toast.error("Please fill in requied");let o=e.userForm.value;const r=yield(0,c.z)(e.companyService.saveEmployee(o));if(r.success){if(r.data.id===o.id){const a=e.employeeList.findIndex(l=>l.id===r.data.id);a>-1&&e.employeeList.splice(a,1)}e.employeeList.push(r.data),e.toast.success(r.message),e.pageView.resetToListView()}else e.toast.error(r.message)})()}editUser(e){this.userForm.patchValue({}),this.userForm.controls.status.setValue(e.status),this.userForm.controls.accessLevel.setValue(e.accessLevel),this.userForm.controls.companyBranchId.setValue(e.companyBranchId),this.userForm.controls.frame.setValue(e.frame),this.userForm.controls.height.setValue(e.height),this.userForm.controls.width.setValue(e.width),this.userForm.patchValue(e),console.log("formData: ",this.userForm.value),this.pageView.resetToCreateView()}deleteUser(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.companyService.deleteEmployee(e));if(a.data){o.toast.success(a.message);const l=o.employeeList.findIndex(_=>_.id===e);l>-1&&o.employeeList.splice(l,1)}})()}clearPage(){this.userForm.reset(),this.userForm.patchValue({})}closePage(){this.userForm.reset(),this.userForm.patchValue({}),this.pageView.resetToListView()}initUser(){this.userForm.reset(),this.userForm.patchValue({}),this.pageView.resetToCreateView()}setupForm(){this.userForm=this.fb.group({id:[null],companyBranchId:[null,s.kI.required],fullname:[null,s.kI.required],phoneNumber:[null],email:[null],status:[null],accessLevel:[null],frame:[null],height:[null],width:[null],password:[null],appVersion:[null]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.k),t.Y36(b.J),t.Y36(v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-employees"]],decls:7,vars:6,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[4,"ngIf"],[3,"fullname","emailAddress","userId"],[1,"clearfix"],[1,"float-end"],["href","javascript:void(0)","title","New Branch",1,"mx-3",3,"click"],[1,"fa","fa-plus-circle","fa-3x"],[1,"p-2"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"fa","fa-info"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button","data-bs-toggle","modal","data-bs-target","#disablebackdrop",1,"dropdown-item",3,"click"],[1,"fa","fa-key"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-remove"],[1,"card-body"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"text-danger","fw-bold"],[1,"col-sm-10"],["formControlName","companyBranchId",1,"form-control"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","fullname",1,"form-control"],[1,"text-danger"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","phoneNumber",1,"form-control"],["formControlName","status",1,"control-field","w-100"],["formControlName","accessLevel",1,"control-field","w-100"],["formControlName","frame",1,"control-field","w-100"],["formControlName","height",1,"control-field","w-100"],["formControlName","width",1,"control-field","w-100"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-danger","btn-sm","float-end",3,"click"],[1,"fa","fa-times"],["selected","",3,"value"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3,"Register new employee"),t.qZA(),t.YNc(4,st,22,1,"div",3),t._UZ(5,"app-change-password",4),t.YNc(6,_t,81,7,"div",3),t.qZA()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(4),t.Q6J("ngIf",o.pageView.listView),t.xp6(1),t.Q6J("fullname",o.fullname)("emailAddress",o.emailAddress)("userId",o.userId),t.xp6(1),t.Q6J("ngIf",o.pageView.createView))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,g,rt]}),n})(),k=(()=>{class n{constructor(e){this.http=e}searchByInvoiceNo(e){return this.http.get(`${p.N.endpoint}/invoice?q=${e}`)}reverseInvoice(e){return this.http.post(`${p.N.endpoint}/invoice/${e}`,{})}searchByDate(e,o){return this.http.get(`${p.N.endpoint}/invoice/search?fromDate=${e}&toDate=${o}`)}fetchInvoiceDetails(e){return this.http.get(`${p.N.endpoint}/invoice/${e}`)}searchByBranch(e){return this.http.get(`${p.N.endpoint}/invoice/search/${e}`)}searchByUser(e){return this.http.get(`${p.N.endpoint}/invoice/search/${e}/user`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",16),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td")(9,"button",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.reverse(a.id))}),t._UZ(10,"i",8),t._uU(11,"\xa0Reverse"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.valueDate),t.xp6(2),t.Oqu(e.client),t.xp6(2),t.Oqu(t.lcZ(7,3,e.totalAmount))}}let ht=(()=>{class n{constructor(e,o){this.toast=e,this.invoiceService=o,this.pageTitle="Reverse Invoice"}search(){var e=this;return(0,d.Z)(function*(){if(e.proformaInvoiceList=[],""===e.invoiceNo||void 0===e.invoiceNo)return void e.toast.error("Please enter invoice number");const o=yield(0,c.z)(e.invoiceService.searchByInvoiceNo(e.invoiceNo.trim()));o.success?e.proformaInvoiceList.push(o.data):e.toast.errorMessage(o.data.toString(),o.message)})()}clear(){this.invoiceNo="",this.proformaInvoiceList=[]}reverse(e){var o=this;return(0,d.Z)(function*(){const r=yield(0,c.z)(o.invoiceService.reverseInvoice(e));console.log("result: ",r),r.success&&o.toast.success(r.message)})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.k),t.Y36(k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reverse-invoice"]],decls:27,vars:3,consts:[[3,"pageTitle"],[1,"card"],[1,"card-body"],[1,"py-3"],[1,"row-field","mb-3"],[1,"mx-2"],["type","text",1,"control-field",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-light","btn-sm","btn-border","mx-2",3,"click"],[1,"fa","fa-check-circle"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-remove"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end"],["type","button",1,"btn","btn-danger","btn-sm","float-end",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),t.NdJ("ngModelChange",function(a){return o.invoiceNo=a}),t.qZA(),t.TgZ(7,"button",7),t.NdJ("click",function(){return o.search()}),t._UZ(8,"i",8),t._uU(9,"\xa0Search"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return o.clear()}),t._UZ(11,"i",10),t._uU(12,"\xa0Clear"),t.qZA()()(),t.TgZ(13,"div")(14,"table",11)(15,"thead",12)(16,"tr")(17,"th",13),t._uU(18,"Invoice No."),t.qZA(),t.TgZ(19,"th",13),t._uU(20,"Client"),t.qZA(),t.TgZ(21,"th",14),t._uU(22,"Total Amount"),t.qZA(),t.TgZ(23,"th",14),t._uU(24,"Action"),t.qZA()()(),t.TgZ(25,"tbody"),t.YNc(26,gt,12,5,"tr",15),t.qZA()()()()()()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(6),t.Q6J("ngModel",o.invoiceNo),t.xp6(20),t.Q6J("ngForOf",o.proformaInvoiceList))},dependencies:[u.sg,s.Fj,s.JJ,s.On,g,u.JJ]}),n})(),w=(()=>{class n{constructor(e){this.http=e}saveInventory(e){return e.id?this.http.put(`${p.N.endpoint}/inventory`,e):this.http.post(`${p.N.endpoint}/inventory`,e)}fetchAllInventory(){return this.http.get(`${p.N.endpoint}/inventory/list`)}deleteInventory(e){return this.http.delete(`${p.N.endpoint}/inventory/${e}`)}saveProduct(e){return e.id?this.http.put(`${p.N.endpoint}/product`,e):this.http.post(`${p.N.endpoint}/product`,e)}fetchAllProducts(){return this.http.get(`${p.N.endpoint}/product/list`)}deleteProduct(e){return this.http.delete(`${p.N.endpoint}/product/${e}`)}saveProductType(e){return e.id?this.http.put(`${p.N.endpoint}/product-type`,e):this.http.post(`${p.N.endpoint}/product-type`,e)}fetchAllProductTypes(){return this.http.get(`${p.N.endpoint}/product-type/list`)}deleteProductType(e){return this.http.delete(`${p.N.endpoint}/product-type/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",14),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",15),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td")(15,"div",16)(16,"button",17),t._uU(17," Choose... "),t.qZA(),t.TgZ(18,"ul",18)(19,"li")(20,"a",19),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.editInventory(a))}),t._UZ(21,"i",20),t._uU(22,"Edit"),t.qZA()(),t.TgZ(23,"li")(24,"a",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteInventory(a.id))}),t._UZ(25,"i",22),t._uU(26,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(4),t.Oqu(e.productCode),t.xp6(2),t.Oqu(e.product),t.xp6(2),t.Oqu(e.productType),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(13,5,e.sellingPrice))}}function vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initInventory())}),t._UZ(4,"i",7),t.qZA()()(),t.TgZ(5,"div",8)(6,"table",9)(7,"thead",10)(8,"tr"),t._UZ(9,"th",11),t.TgZ(10,"th",11),t._uU(11,"Product Code"),t.qZA(),t.TgZ(12,"th",11),t._uU(13,"Product"),t.qZA(),t.TgZ(14,"th",11),t._uU(15,"Product Type"),t.qZA(),t.TgZ(16,"th",11),t._uU(17,"Qty"),t.qZA(),t.TgZ(18,"th",12),t._uU(19,"Selling Price"),t.qZA(),t.TgZ(20,"th",12),t._uU(21,"Action"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,Zt,27,7,"tr",13),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(23),t.Q6J("ngForOf",e.inventoryList)}}function yt(n,i){if(1&n&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function Tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",23)(2,"form",24),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t.TgZ(3,"div",25)(4,"label",26),t._uU(5,"Inventory Code"),t.qZA(),t.TgZ(6,"div",27),t._UZ(7,"input",28),t.qZA()(),t.TgZ(8,"div",25)(9,"label",26),t._uU(10,"Product Name"),t.qZA(),t.TgZ(11,"div",27)(12,"select",29)(13,"option",30),t._uU(14,"Choose..."),t.qZA(),t.YNc(15,yt,2,2,"option",31),t.qZA()()(),t.TgZ(16,"div",25)(17,"label",26),t._uU(18,"Frame Size"),t.qZA(),t.TgZ(19,"div",27),t._UZ(20,"input",32),t.qZA()(),t.TgZ(21,"div",25)(22,"label",26),t._uU(23,"Width"),t.qZA(),t.TgZ(24,"div",27),t._UZ(25,"input",33),t.qZA()(),t.TgZ(26,"div",25)(27,"label",26),t._uU(28,"Height"),t.qZA(),t.TgZ(29,"div",27),t._UZ(30,"input",34),t.qZA()(),t.TgZ(31,"div",25)(32,"label",26),t._uU(33,"Quantity"),t.qZA(),t.TgZ(34,"div",27),t._UZ(35,"input",35),t.qZA()(),t.TgZ(36,"div",25)(37,"label",26),t._uU(38,"Selling Price"),t.qZA(),t.TgZ(39,"div",27),t._UZ(40,"input",36),t.qZA()(),t.TgZ(41,"div",25)(42,"label",26),t._uU(43,"Description"),t.qZA(),t.TgZ(44,"div",27),t._UZ(45,"textarea",37),t.qZA()(),t.TgZ(46,"div",38)(47,"button",39),t._UZ(48,"i",40),t._uU(49," Save Changes"),t.qZA(),t.TgZ(50,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearPage())}),t._UZ(51,"i",42),t._uU(52," Clear"),t.qZA(),t.TgZ(53,"button",43),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePage())}),t._UZ(54,"i",44),t._uU(55," Close Page"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.inventoryForm),t.xp6(13),t.Q6J("ngForOf",e.products)}}let bt=(()=>{class n{constructor(e,o,r,a){this.fb=e,this.lookup=o,this.productService=r,this.toast=a,this.pageTitle="Inventory",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.initLookups(),this.fetchInventory()}initInventory(){this.inventoryForm.reset(),this.inventoryForm.patchValue({}),this.pageView.resetToCreateView()}initLookups(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.lookup.products());e.products=o.data})()}fetchInventory(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.productService.fetchAllInventory());e.inventoryList=o.data})()}save(){var e=this;return(0,d.Z)(function*(){if(e.inventoryForm.invalid)return void e.toast.error("Please fill out requied");let o=e.inventoryForm.value;const r=yield(0,c.z)(e.productService.saveInventory(o));if(r.success){if(r.data.id===o.id){const a=e.inventoryList.findIndex(l=>l.id===r.data.id);a>-1&&e.inventoryList.splice(a,1)}e.inventoryList.push(r.data),e.toast.success(r.message),e.pageView.resetToListView()}else e.toast.error(r.message)})()}editInventory(e){this.inventoryForm.patchValue({}),this.inventoryForm.controls.productId.setValue(e.productId),this.inventoryForm.patchValue(e),this.pageView.resetToCreateView()}deleteInventory(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.productService.deleteInventory(e));if(a.data){o.toast.success(a.message);const l=o.inventoryList.findIndex(_=>_.id===e);l>-1&&o.inventoryList.splice(l,1)}})()}clearPage(){this.inventoryForm.reset(),this.inventoryForm.patchValue({})}closePage(){this.inventoryForm.reset(),this.inventoryForm.patchValue({}),this.pageView.resetToListView()}setupForm(){this.inventoryForm=this.fb.group({id:[null],inventoryCode:[null],productId:[null,s.kI.required],frameSize:[0],width:[0],height:[0],quantity:[0],sellingPrice:[0],unitPrice:[0],description:[null]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(v),t.Y36(w),t.Y36(f.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-inventory"]],decls:6,vars:4,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[4,"ngIf"],[1,"clearfix"],[1,"float-end"],["href","javascript:void(0)","title","New Branch",1,"mx-3",3,"click"],[1,"fa","fa-plus-circle","fa-3x"],[1,"p-2"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"fa","fa-info"],[1,"text-end"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-remove"],[1,"card-body"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","formControlName","inventoryCode",1,"form-control"],["formControlName","productId",1,"control-field","w-100"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","frameSize",1,"form-control"],["type","text","formControlName","width",1,"form-control"],["type","text","formControlName","height",1,"form-control"],["type","text","formControlName","quantity",1,"form-control"],["type","text","formControlName","sellingPrice",1,"form-control"],["formControlName","description",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-secondary","btn-sm","mx-3",3,"click"],[1,"fa","fa-timex"],["type","reset",1,"btn","btn-danger","btn-sm","float-end",3,"click"],[1,"fa","fa-times"],["selected","",3,"value"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,vt,24,1,"div",3),t.YNc(5,Tt,56,2,"div",3),t.qZA()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("Add new ",o.pageTitle,""),t.xp6(1),t.Q6J("ngIf",o.pageView.listView),t.xp6(1),t.Q6J("ngIf",o.pageView.createView))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,g,u.JJ]}),n})();function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"div",27)(11,"button",28),t._uU(12," Choose... "),t.qZA(),t.TgZ(13,"ul",29)(14,"li")(15,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.editProduct(a))}),t._UZ(16,"i",31),t._uU(17,"Edit"),t.qZA()(),t.TgZ(18,"li")(19,"a",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.viewImage(a))}),t._UZ(20,"i",33),t._uU(21,"Image"),t.qZA()(),t.TgZ(22,"li")(23,"a",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.deleteProduct(a.id))}),t._UZ(24,"i",35),t._uU(25,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.productCode),t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.reorderLevel),t.xp6(2),t.Oqu(e.productType)}}function At(n,i){if(1&n&&(t.TgZ(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr")(4,"th",24),t._uU(5,"Code"),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Product"),t.qZA(),t.TgZ(8,"th",24),t._uU(9,"Re-order Level"),t.qZA(),t.TgZ(10,"th",24),t._uU(11,"Product Type"),t.qZA(),t.TgZ(12,"th",25),t._uU(13,"Action"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Ct,26,4,"tr",26),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(15),t.Q6J("ngForOf",e.productList)}}function qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"button",13),t._UZ(3,"i",14),t.qZA(),t.TgZ(4,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.fetchProducts())}),t._UZ(5,"i",16),t._uU(6,"\xa0Load Products"),t.qZA(),t.TgZ(7,"div",17)(8,"a",18),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initProduct())}),t._UZ(9,"i",19),t.qZA()()(),t.YNc(10,At,16,1,"div",20),t.qZA()}2&n&&(t.xp6(10),t.Q6J("blockUI","loading"))}function Ut(n,i){if(1&n&&(t.TgZ(0,"option",57),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function xt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",36)(2,"form",37),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t.TgZ(3,"div",38)(4,"label",39),t._uU(5,"Product Code"),t.qZA(),t.TgZ(6,"div",40),t._UZ(7,"input",41),t.qZA()(),t.TgZ(8,"div",38)(9,"label",39),t._uU(10,"Product Name "),t.TgZ(11,"span",42),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"div",40),t._UZ(14,"input",43),t.qZA()(),t.TgZ(15,"div",38)(16,"label",39),t._uU(17,"Product Type"),t.qZA(),t.TgZ(18,"div",40)(19,"select",44)(20,"option",45),t._uU(21,"Choose..."),t.qZA(),t.YNc(22,Ut,2,2,"option",46),t.qZA()()(),t.TgZ(23,"div",38)(24,"label",39),t._uU(25,"Re-order Level"),t.qZA(),t.TgZ(26,"div",40),t._UZ(27,"input",47),t.qZA()(),t.TgZ(28,"div",38)(29,"label",39),t._uU(30,"Product Image"),t.qZA(),t.TgZ(31,"div",40)(32,"input",48),t.NdJ("change",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.onChange(r))}),t.qZA()()(),t.TgZ(33,"div",38)(34,"label",39),t._uU(35,"Description"),t.qZA(),t.TgZ(36,"div",40),t._UZ(37,"textarea",49),t.qZA()(),t.TgZ(38,"div",50)(39,"button",51),t._UZ(40,"i",52),t._uU(41," Save Changes"),t.qZA(),t.TgZ(42,"button",53),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearPage())}),t._UZ(43,"i",54),t._uU(44," Clear"),t.qZA(),t.TgZ(45,"button",55),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePage())}),t._UZ(46,"i",56),t._uU(47," Close Page"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.productForm),t.xp6(20),t.Q6J("ngForOf",e.productTypeList)}}class C{constructor(i,e,o,r){this.lookup=i,this.productService=e,this.fb=o,this.toast=r,this.pageTitle="Products",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.initLookups()}initProduct(){this.productForm.reset(),this.productForm.patchValue({}),this.pageView.resetToCreateView()}initLookups(){var i=this;return(0,d.Z)(function*(){const e=yield(0,c.z)(i.lookup.productTypes());i.productTypeList=e.data})()}fetchProducts(){var i=this;return(0,d.Z)(function*(){i.loading.start("Loading...");const e=yield(0,c.z)(i.productService.fetchAllProducts());i.productList=e.data,i.loading.stop()})()}save(){var i=this;return(0,d.Z)(function*(){if(i.productForm.invalid)return void i.toast.error("Please fill out requied");let e=i.productForm.value;const o=yield(0,c.z)(i.productService.saveProduct(e));if(o.success){if(o.data.id===e.id){const r=i.productList.findIndex(a=>a.id===o.data.id);r>-1&&i.productList.splice(r,1)}i.productList.push(o.data),i.toast.success(o.message),i.pageView.resetToListView()}else i.toast.error(o.message)})()}onChange(i){const e=new FileReader;if(i.target.files&&i.target.files.length){const[o]=i.target.files;e.readAsDataURL(o),e.onload=()=>{this.productForm.patchValue({productImage:e.result})}}}editProduct(i){this.productForm.patchValue({}),this.productForm.controls.productTypeId.setValue(i.productTypeId),this.productForm.patchValue(i),this.pageView.resetToCreateView()}viewImage(i){this.productImage=i.productImage,this.productName=i.productName,this.description=i.description}deleteProduct(i){var e=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const r=yield(0,c.z)(e.productService.deleteInventory(i));if(r.data){e.toast.success(r.message);const a=e.productList.findIndex(l=>l.id===i);a>-1&&e.productList.splice(a,1)}})()}clearPage(){this.productForm.reset(),this.productForm.patchValue({})}closePage(){this.productForm.reset(),this.productForm.patchValue({}),this.pageView.resetToListView()}setupForm(){this.productForm=this.fb.group({id:[null],productName:[null,s.kI.required],productCode:[null],productType:[null],productTypeId:[null],reorderLevel:[0],productImage:[null],imageFormat:[null],description:[null]})}}function wt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",21)(5,"button",22),t._uU(6," Choose... "),t.qZA(),t.TgZ(7,"ul",23)(8,"li")(9,"a",24),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editProductType(a))}),t._UZ(10,"i",25),t._uU(11,"Edit"),t.qZA()(),t.TgZ(12,"li")(13,"a",26),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteProductType(a.id))}),t._UZ(14,"i",14),t._uU(15,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.productTypeName)}}C.\u0275fac=function(i){return new(i||C)(t.Y36(v),t.Y36(w),t.Y36(s.qu),t.Y36(f.k))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-product"]],decls:18,vars:8,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[4,"ngIf"],["id","productImg","tabindex","-1","data-bs-backdrop","false",1,"modal","fade",2,"background","#6677"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["alt","product Image",2,"height","300px",3,"src","title"],[1,"clearfix"],["type","button",1,"btn","btn-light","btn-border","mx-2"],[1,"fa","fa-search"],["type","button",1,"btn","btn-primary","btn-border","m-2",3,"click"],[1,"fa","fa-spinner"],[1,"float-end"],["href","javascript:void(0)","title","New Branch",1,"mx-3",3,"click"],[1,"fa","fa-plus-circle","fa-3x"],["class","p-2",4,"blockUI"],[1,"p-2"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button","data-bs-toggle","modal","data-bs-target","#productImg",1,"dropdown-item",3,"click"],[1,"fa","fa-image"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-remove"],[1,"card-body"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","formControlName","productCode",1,"form-control"],[1,"fw-100","text-danger"],["type","text","formControlName","productName",1,"form-control"],["formControlName","productTypeId",1,"control-field","w-100"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","reorderLevel",1,"form-control"],["type","file","formControlName","productImage",1,"form-control",3,"change"],["formControlName","description",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-secondary","btn-sm","mx-3",3,"click"],[1,"fa","fa-timex"],["type","reset",1,"btn","btn-danger","btn-sm","float-end",3,"click"],[1,"fa","fa-times"],["selected","",3,"value"]],template:function(i,e){1&i&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,qt,11,1,"div",3),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6",8),t._uU(10),t.qZA(),t._UZ(11,"button",9),t.qZA(),t.TgZ(12,"div",10),t._UZ(13,"img",11),t.TgZ(14,"p")(15,"small"),t._uU(16),t.qZA()()()()()(),t.YNc(17,xt,48,2,"div",3),t.qZA()),2&i&&(t.Q6J("pageTitle",e.pageTitle),t.xp6(3),t.hij("Add new ",e.pageTitle,""),t.xp6(1),t.Q6J("ngIf",e.pageView.listView),t.xp6(6),t.Oqu(e.productName),t.xp6(3),t.Q6J("src",e.productImage,t.LSH)("title",e.description),t.xp6(3),t.Oqu(e.description),t.xp6(1),t.Q6J("ngIf",e.pageView.createView))},dependencies:[u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,y.PC,s.sg,s.u,g]}),(0,x.gn)([(0,y.bH)("loading")],C.prototype,"loading",void 0);let Nt=(()=>{class n{constructor(e,o,r){this.productService=e,this.toast=o,this.fb=r,this.pageTitle="Product Type"}ngOnInit(){this.setupForm(),this.fetchProductTypes()}fetchProductTypes(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.productService.fetchAllProductTypes());e.productTypeList=o.data})()}save(){var e=this;return(0,d.Z)(function*(){if(e.productTypeForm.invalid)return void e.toast.error("Please fill out requied");let o=e.productTypeForm.value;const r=yield(0,c.z)(e.productService.saveProductType(o));if(r.success){if(r.data.id===o.id){const a=e.productTypeList.findIndex(l=>l.id===r.data.id);a>-1&&e.productTypeList.splice(a,1)}e.productTypeList.push(r.data),e.toast.success(r.message)}else e.toast.error(r.message)})()}editProductType(e){this.productTypeForm.patchValue({}),this.productTypeForm.patchValue(e)}deleteProductType(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.productService.deleteProductType(e));if(a.data){o.toast.success(a.message);const l=o.productTypeList.findIndex(_=>_.id===e);l>-1&&o.productTypeList.splice(l,1)}})()}clear(){this.productTypeForm.reset(),this.productTypeForm.patchValue({})}setupForm(){this.productTypeForm=this.fb.group({id:[null],productTypeName:[null,s.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(f.k),t.Y36(s.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-type"]],decls:31,vars:4,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[1,"p-3"],[1,"row"],[1,"col-md-4"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"fw-100","text-danger"],["type","text","formControlName","productTypeName",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm","mx-2"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-remove"],[1,"col-md-8"],[1,"table","table-bordered"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"form",6),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(8,"div",7)(9,"label"),t._uU(10,"Product Type Name "),t.TgZ(11,"span",8),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"div",10)(15,"button",11),t._UZ(16,"i",12),t._uU(17," Save Changes"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return o.clear()}),t._UZ(19,"i",14),t._uU(20,"\xa0Clear"),t.qZA()()()(),t.TgZ(21,"div",15)(22,"table",16)(23,"thead",17)(24,"tr")(25,"th",18),t._uU(26,"Product Type"),t.qZA(),t.TgZ(27,"th",19),t._uU(28,"Action"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,wt,16,1,"tr",20),t.qZA()()()()()()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("Create ",o.pageTitle,""),t.xp6(4),t.Q6J("formGroup",o.productTypeForm),t.xp6(23),t.Q6J("ngForOf",o.productTypeList))},dependencies:[u.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g]}),n})();function Ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",14),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td")(13,"div",15)(14,"button",16),t._uU(15," Choose... "),t.qZA(),t.TgZ(16,"ul",17)(17,"li")(18,"a",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.editSalesLead(a))}),t._UZ(19,"i",19),t._uU(20,"Edit"),t.qZA()(),t.TgZ(21,"li")(22,"a",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteSalesLead(a.id))}),t._UZ(23,"i",21),t._uU(24,"Delete"),t.qZA()()()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.leadCode),t.xp6(2),t.Oqu(e.firstname),t.xp6(2),t.Oqu(e.surname),t.xp6(2),t.Oqu(e.phoneNumber),t.xp6(2),t.Oqu(t.lcZ(11,5,e.rate))}}function Lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"a",6),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.initSalesLead())}),t._UZ(4,"i",7),t.qZA()()(),t.TgZ(5,"div",8)(6,"table",9)(7,"thead",10)(8,"tr")(9,"th",11),t._uU(10,"Code"),t.qZA(),t.TgZ(11,"th",11),t._uU(12,"First Name"),t.qZA(),t.TgZ(13,"th",11),t._uU(14,"Surname"),t.qZA(),t.TgZ(15,"th",11),t._uU(16,"Phone"),t.qZA(),t.TgZ(17,"th",12),t._uU(18,"Rate(%)"),t.qZA(),t.TgZ(19,"th",12),t._uU(20,"Action"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Ft,25,7,"tr",13),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(22),t.Q6J("ngForOf",e.salesLeadList)}}function kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",22)(2,"form",23),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.save())}),t.TgZ(3,"div",24)(4,"label",25),t._uU(5,"Lead Code "),t.TgZ(6,"span",26),t._uU(7,"*"),t.qZA()(),t.TgZ(8,"div",27),t._UZ(9,"input",28),t.qZA()(),t.TgZ(10,"div",24)(11,"label",25),t._uU(12,"First Name "),t.TgZ(13,"span",26),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"div",27),t._UZ(16,"input",29),t.qZA()(),t.TgZ(17,"div",24)(18,"label",25),t._uU(19,"Surname "),t.TgZ(20,"span",26),t._uU(21,"*"),t.qZA()(),t.TgZ(22,"div",27),t._UZ(23,"input",30),t.qZA()(),t.TgZ(24,"div",24)(25,"label",25),t._uU(26,"Phone "),t.TgZ(27,"span",26),t._uU(28,"*"),t.qZA()(),t.TgZ(29,"div",27),t._UZ(30,"input",31),t.qZA()(),t.TgZ(31,"div",24)(32,"label",25),t._uU(33,"Rate "),t.TgZ(34,"span",26),t._uU(35,"*"),t.qZA()(),t.TgZ(36,"div",27),t._UZ(37,"input",32),t.qZA()(),t.TgZ(38,"div",24)(39,"label",25),t._uU(40,"Email Address"),t.qZA(),t.TgZ(41,"div",27),t._UZ(42,"input",33),t.qZA()(),t.TgZ(43,"div",24)(44,"label",25),t._uU(45,"House Address"),t.qZA(),t.TgZ(46,"div",27),t._UZ(47,"input",34),t.qZA()(),t.TgZ(48,"div",24)(49,"label",25),t._uU(50,"Emergency Contact"),t.qZA(),t.TgZ(51,"div",27),t._UZ(52,"input",35),t.qZA()(),t.TgZ(53,"div",36)(54,"button",37),t._UZ(55,"i",38),t._uU(56," Save Changes"),t.qZA(),t.TgZ(57,"button",39),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.clearPage())}),t._UZ(58,"i",40),t._uU(59," Clear"),t.qZA(),t.TgZ(60,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.closePage())}),t._UZ(61,"i",42),t._uU(62," Close Page"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.salesLeadForm)}}let St=(()=>{class n{constructor(e,o,r){this.companyService=e,this.fb=o,this.toast=r,this.pageTitle="Sales Lead",this.pageView=Z.listView()}ngOnInit(){this.setupForm(),this.fetchSaesLeads()}fetchSaesLeads(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.companyService.salesLeadList());e.salesLeadList=o.data})()}initSalesLead(){this.salesLeadForm.reset(),this.salesLeadForm.patchValue({}),this.pageView.resetToCreateView()}save(){var e=this;return(0,d.Z)(function*(){if(e.salesLeadForm.invalid)return void e.toast.error("Please fill out required fields");let o=e.salesLeadForm.value;const r=yield(0,c.z)(e.companyService.saveSalesLead(o));if(r.success){if(r.data.id===o.id){const a=e.salesLeadList.findIndex(l=>l.id===r.data.id);a>-1&&e.salesLeadList.splice(a,1)}e.salesLeadList.push(r.data),e.toast.success(r.message),e.pageView.resetToListView()}else e.toast.error(r.message)})()}editSalesLead(e){this.salesLeadForm.patchValue({}),this.salesLeadForm.patchValue(e),this.pageView.resetToCreateView()}deleteSalesLead(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.companyService.deleteSalesLead(e));if(a.data){o.toast.success(a.message);const l=o.salesLeadList.findIndex(_=>_.id===e);l>-1&&o.salesLeadList.splice(l,1)}})()}clearPage(){this.salesLeadForm.reset(),this.salesLeadForm.patchValue({})}closePage(){this.salesLeadForm.reset(),this.salesLeadForm.patchValue({}),this.pageView.resetToListView()}setupForm(){this.salesLeadForm=this.fb.group({id:[null],firstname:[null,s.kI.required],surname:[null,s.kI.required],phoneNumber:[null,s.kI.required],emailAddress:[null],leadCode:[null,s.kI.required],houseAddress:[null],emergencyContact:[null],description:[null],rate:[0,s.kI.required]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.J),t.Y36(s.qu),t.Y36(f.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-salelead"]],decls:6,vars:4,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[4,"ngIf"],[1,"clearfix"],[1,"float-end"],["href","javascript:void(0)","title","New Branch",1,"mx-3",3,"click"],[1,"fa","fa-plus-circle","fa-3x"],[1,"p-2"],[1,"table","table-bordered","table-striped"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"dropdown","float-end"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","btn-sm","dropdown-toggle","btn-border"],[1,"dropdown-menu"],["href","javascript:void(0)","type","button",1,"dropdown-item",3,"click"],[1,"fa","fa-edit"],["href","javascript:void(0)","type","button",1,"dropdown-item","text-danger",3,"click"],[1,"fa","fa-remove"],[1,"card-body"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"fw-100","text-danger"],[1,"col-sm-10"],["type","text","formControlName","leadCode",1,"form-control"],["type","text","formControlName","firstname",1,"form-control"],["type","text","formControlName","surname",1,"form-control"],["type","text","formControlName","phoneNumber",1,"form-control"],["type","text","formControlName","rate",1,"form-control"],["type","text","formControlName","emailAddress",1,"form-control"],["type","text","formControlName","houseAddress",1,"form-control"],["type","text","formControlName","emergencyContact",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-sm"],[1,"fa","fa-check-circle"],["type","reset",1,"btn","btn-secondary","btn-sm","mx-3",3,"click"],[1,"fa","fa-timex"],["type","reset",1,"btn","btn-danger","btn-sm","float-end",3,"click"],[1,"fa","fa-times"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.YNc(4,Lt,23,1,"div",3),t.YNc(5,kt,63,1,"div",3),t.qZA()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("Add new ",o.pageTitle,""),t.xp6(1),t.Q6J("ngIf",o.pageView.listView),t.xp6(1),t.Q6J("ngIf",o.pageView.createView))},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g,u.JJ]}),n})();function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.TgZ(3,"td",20),t._uU(4),t.qZA(),t.TgZ(5,"td",21)(6,"button",13),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.editAppConfig(a))}),t.TgZ(7,"i",22),t._uU(8,"\xa0Edit"),t.qZA()()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.configName),t.xp6(2),t.Oqu(e.configValue)}}let Pt=(()=>{class n{constructor(e,o,r){this.fb=e,this.toast=o,this.companyService=r,this.pageTitle="Application Configuration"}ngOnInit(){this.setupForm(),this.fetchAppConfig()}fetchAppConfig(){var e=this;return(0,d.Z)(function*(){const o=yield(0,c.z)(e.companyService.appConfigList());console.log("result: ",o),e.appConfigList=o.data})()}save(){var e=this;return(0,d.Z)(function*(){if(e.appConfigForm.invalid)return void e.toast.error("Please fill out required fields");let o=e.appConfigForm.getRawValue();const r=yield(0,c.z)(e.companyService.saveAppConfig(o));if(r.success){if(r.data.id===o.id){const a=e.appConfigList.findIndex(l=>l.id===r.data.id);a>-1&&e.appConfigList.splice(a,1)}e.appConfigList.push(r.data),e.toast.success(r.message),e.clear()}else e.toast.error(r.message)})()}editAppConfig(e){this.appConfigForm.patchValue({}),this.appConfigForm.controls.configName.disable(),this.appConfigForm.patchValue(e)}deleteAppConfig(e){var o=this;return(0,d.Z)(function*(){if(!(yield h.o.deleteConfirm()).value)return;const a=yield(0,c.z)(o.companyService.deleteAppConfig(e));if(a.data){o.toast.success(a.message);const l=o.appConfigList.findIndex(_=>_.id===e);l>-1&&o.appConfigList.splice(l,1)}})()}clear(){this.appConfigForm.reset(),this.appConfigForm.controls.configName.enable(),this.appConfigForm.patchValue({})}setupForm(){this.appConfigForm=this.fb.group({id:[null],configName:[null,s.kI.required],configValue:[null,s.kI.required],configStatus:[null]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(s.qu),t.Y36(f.k),t.Y36(b.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-appconfig"]],decls:39,vars:4,consts:[[3,"pageTitle"],[1,"card"],[1,"card-header"],[1,"p-3"],[1,"pt-2",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"text-danger","fw-bold"],[1,"col-sm-10"],["type","text","formControlName","configName",1,"form-control"],["type","text","formControlName","configValue",1,"form-control"],["type","submit",1,"btn","btn-success","btn-sm","mx-2"],[1,"fa","fa-check-circle"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-remove"],[1,"table","table-bordered"],[1,"table-light"],["scope","col",1,"text-center"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-end"],[1,"fa","fa-edit"]],template:function(e,o){1&e&&(t._UZ(0,"app-page-title",0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"form",4),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(6,"div",5)(7,"label",6),t._uU(8,"Config Name "),t.TgZ(9,"span",7),t._uU(10,"*"),t.qZA()(),t.TgZ(11,"div",8),t._UZ(12,"input",9),t.qZA()(),t.TgZ(13,"div",5)(14,"label",6),t._uU(15,"Config Value"),t.TgZ(16,"span",7),t._uU(17,"*"),t.qZA()(),t.TgZ(18,"div",8),t._UZ(19,"input",10),t.qZA()(),t.TgZ(20,"button",11),t._UZ(21,"i",12),t._uU(22," Save Changes"),t.qZA(),t.TgZ(23,"button",13),t.NdJ("click",function(){return o.clear()}),t._UZ(24,"i",14),t._uU(25,"\xa0Clear"),t.qZA()(),t._UZ(26,"hr"),t.TgZ(27,"div",3)(28,"table",15)(29,"thead",16)(30,"tr")(31,"th",17),t._uU(32,"Config Name"),t.qZA(),t.TgZ(33,"th",17),t._uU(34,"Config Value"),t.qZA(),t.TgZ(35,"th",18),t._uU(36,"Action"),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,Jt,9,2,"tr",19),t.qZA()()()()()),2&e&&(t.Q6J("pageTitle",o.pageTitle),t.xp6(3),t.hij("",o.pageTitle," Setup"),t.xp6(2),t.Q6J("formGroup",o.appConfigForm),t.xp6(33),t.Q6J("ngForOf",o.appConfigList))},dependencies:[u.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g]}),n})(),It=(()=>{class n{transform(e,o){return e?o?(o=o.toLowerCase(),e.filter(r=>JSON.stringify(r).toLowerCase().includes(o))):e:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filterFilter",type:n,pure:!0}),n})();function Vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.fetchDetails(a))}),t._uU(2),t.ALo(3,"number"),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.AsE("",e.quotationNumber," - ",t.lcZ(3,2,e.totalAmount),"")}}function Ot(n,i){if(1&n&&(t.TgZ(0,"div",33)(1,"table",34)(2,"tbody"),t.YNc(3,Vt,4,4,"tr",32),t.ALo(4,"filterFilter"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,e.invoiceList,e.filterText))}}function Yt(n,i){if(1&n&&(t.TgZ(0,"option",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function Mt(n,i){if(1&n&&(t.TgZ(0,"option",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(null==e?null:e.itemName)}}function $t(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",37),t._uU(4),t.qZA(),t.TgZ(5,"td",37),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"td",37),t._uU(9),t.ALo(10,"number"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.productName),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(7,4,e.unitPrice)),t.xp6(3),t.Oqu(t.lcZ(10,6,e.subTotal))}}class A{constructor(i,e){this.lookup=i,this.invoiceService=e,this.pageTitle="Sales Log"}ngOnInit(){this.initLookups()}initLookups(){var i=this;return(0,d.Z)(function*(){const e=yield(0,c.z)(i.lookup.companyBranch()),o=yield(0,c.z)(i.lookup.employees());i.branchList=e.data,i.usersList=o.data})()}searchByDate(){var i=this;return(0,d.Z)(function*(){i.loading.start("Loading..."),i.invoiceList=[];const e=yield(0,c.z)(i.invoiceService.searchByDate(i.fromDate,i.toDate));i.invoiceList=e.data,i.loading.stop()})()}searchByBranch(i){var e=this;return(0,d.Z)(function*(){e.loading.start("Loading..."),e.invoiceList=[];const o=yield(0,c.z)(e.invoiceService.searchByBranch(e.branchId));e.invoiceList=o.data,e.loading.stop()})()}searchByUser(i){var e=this;return(0,d.Z)(function*(){e.loading.start("Loading..."),e.invoiceList=[];const o=yield(0,c.z)(e.invoiceService.searchByUser(e.userId));e.invoiceList=o.data,e.loading.stop()})()}fetchDetails(i){var e=this;return(0,d.Z)(function*(){e.clientName=i.client,e.phoneNumber=i.phoneNumber,e.valueDate=i.valueDate.toString();const o=yield(0,c.z)(e.invoiceService.fetchInvoiceDetails(i.id));e.invoiceItemList=o.data})()}searchByParam(){}clearSearch(){this.clientName="",this.phoneNumber="",this.userId="",this.branchId="",this.valueDate="",this.invoiceList=[],this.invoiceItemList=[]}}A.\u0275fac=function(i){return new(i||A)(t.Y36(v),t.Y36(k))},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-sales-log"]],decls:74,vars:12,consts:[[3,"pageTitle"],[1,"col-md-12"],[1,"row"],[1,"col-md-3"],[1,"row","mb-3"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-grid","gap-2","mt-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],[1,"py-3"],[1,"text-center","fw-bold"],["type","text","placeholder","Search...",1,"control-field","w-100",3,"ngModel","ngModelChange"],["class","invoice-table",4,"blockUI"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"py-2"],[1,"control-field","w-100",3,"ngModel","ngModelChange","change"],["value","","disabled",""],["selected","",3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","mx-2",3,"click"],[1,"fa","fa-remove"],[1,"card-header","bg-header","text-light"],[1,"fw-bold"],[1,"table","table-bordered"],[1,"table-light"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"invoice-table"],[1,"table"],[1,"invoice-td",3,"click"],["selected","",3,"value"],[1,"text-end"]],template:function(i,e){1&i&&(t._UZ(0,"app-page-title",0)(1,"hr"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7,"From:"),t.qZA(),t.TgZ(8,"div",6)(9,"input",7),t.NdJ("ngModelChange",function(r){return e.fromDate=r}),t.qZA()()(),t.TgZ(10,"div",4)(11,"label",5),t._uU(12,"To:"),t.qZA(),t.TgZ(13,"div",6)(14,"input",7),t.NdJ("ngModelChange",function(r){return e.toDate=r}),t.qZA()()(),t.TgZ(15,"div",8)(16,"button",9),t.NdJ("click",function(){return e.searchByDate()}),t._UZ(17,"i",10),t._uU(18," Search"),t.qZA()(),t.TgZ(19,"div",11)(20,"div",12)(21,"u"),t._uU(22,"I N V O I C E"),t.qZA()(),t.TgZ(23,"input",13),t.NdJ("ngModelChange",function(r){return e.filterText=r}),t.qZA(),t.YNc(24,Ot,5,4,"div",14),t.qZA()(),t.TgZ(25,"div",15)(26,"div",16)(27,"div",17),t._uU(28,"Search Parameters"),t.qZA(),t.TgZ(29,"div",18)(30,"div",19)(31,"div",4)(32,"label",5),t._uU(33,"Branch"),t.qZA(),t.TgZ(34,"div",6)(35,"select",20),t.NdJ("ngModelChange",function(r){return e.branchId=r})("change",function(r){return e.searchByBranch(r)}),t.TgZ(36,"option",21),t._uU(37,"Choose..."),t.qZA(),t.YNc(38,Yt,2,2,"option",22),t.qZA()()(),t.TgZ(39,"div",4)(40,"label",5),t._uU(41,"Employees"),t.qZA(),t.TgZ(42,"div",6)(43,"select",20),t.NdJ("ngModelChange",function(r){return e.userId=r})("change",function(r){return e.searchByUser(r)}),t.TgZ(44,"option",21),t._uU(45,"Choose..."),t.qZA(),t.YNc(46,Mt,2,2,"option",22),t.qZA()()(),t._UZ(47,"hr"),t.TgZ(48,"button",23),t.NdJ("click",function(){return e.searchByParam()}),t._UZ(49,"i",10),t._uU(50," Search"),t.qZA(),t.TgZ(51,"button",24),t.NdJ("click",function(){return e.clearSearch()}),t._UZ(52,"i",25),t._uU(53," Clear"),t.qZA()()()(),t.TgZ(54,"div",16)(55,"div",26)(56,"span",27),t._uU(57,"S A L E S"),t.qZA(),t._uU(58),t.qZA(),t.TgZ(59,"div",18)(60,"div",19)(61,"table",28)(62,"thead",29)(63,"tr")(64,"th",30),t._uU(65,"Product"),t.qZA(),t.TgZ(66,"th",31),t._uU(67,"Quantity"),t.qZA(),t.TgZ(68,"th",31),t._uU(69,"Price"),t.qZA(),t.TgZ(70,"th",31),t._uU(71,"Total"),t.qZA()()(),t.TgZ(72,"tbody"),t.YNc(73,$t,11,8,"tr",32),t.qZA()()()()()()()()),2&i&&(t.Q6J("pageTitle",e.pageTitle),t.xp6(9),t.Q6J("ngModel",e.fromDate),t.xp6(5),t.Q6J("ngModel",e.toDate),t.xp6(9),t.Q6J("ngModel",e.filterText),t.xp6(1),t.Q6J("blockUI","loading"),t.xp6(11),t.Q6J("ngModel",e.branchId),t.xp6(3),t.Q6J("ngForOf",e.branchList),t.xp6(5),t.Q6J("ngModel",e.userId),t.xp6(3),t.Q6J("ngForOf",e.usersList),t.xp6(12),t.AsE(" (",e.clientName?e.clientName:e.phoneNumber,") - ",e.valueDate," "),t.xp6(15),t.Q6J("ngForOf",e.invoiceItemList))},dependencies:[u.sg,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,y.PC,g,u.JJ,It],styles:[".invoice-td[_ngcontent-%COMP%]{padding:1em}.invoice-td[_ngcontent-%COMP%]:hover{background-color:#f6f6f6;cursor:pointer}.invoice-table[_ngcontent-%COMP%]{height:60vh;overflow-y:auto}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:14px}input[type=text][_ngcontent-%COMP%]{background-color:#fff;background-image:url(searchicon.c12f41f40f370458.png);background-position:8px 8px;background-repeat:no-repeat;padding-left:40px}.bg-header[_ngcontent-%COMP%]{background:#3c8dbc linear-gradient(180deg,#599ec6,#3c8dbc) repeat-x!important;color:#fff}"]}),(0,x.gn)([(0,y.bH)("loading")],A.prototype,"loading",void 0);const Et=[{path:"",component:O,children:[{path:"admin",component:S},{path:"branch",component:et},{path:"profile",component:it},{path:"employees",component:ft},{path:"reverse",component:ht},{path:"transaction",component:T},{path:"inventory",component:bt},{path:"product",component:C},{path:"product-type",component:Nt},{path:"saleslead",component:St},{path:"appconfig",component:Pt},{path:"saleslog",component:A}]}];let Dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[U.Bz.forChild(Et),U.Bz]}),n})();var Qt=m(6208);let Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,Dt,Qt.m]}),n})()}}]);